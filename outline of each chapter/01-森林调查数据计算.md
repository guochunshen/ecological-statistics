
## 第1课：森林调查数据计算

### 生态学背景
在野外森林调查中，测量树木胸径（DBH，距地面1.3米处的直径）是评估森林生长状况的基本方法。我们需要计算样地内树木的平均胸径来了解林分特征。

### 演示数据
```r
# 某样地内10棵马尾松的胸径测量值（单位：厘米）
tree_dbh <- c(15.2, 18.7, 22.1, 19.5, 16.8, 20.3, 17.9, 21.4, 19.2, 18.6)
```

### 课堂演示过程
```r
# 1. 创建胸径数据向量
tree_dbh <- c(15.2, 18.7, 22.1, 19.5, 16.8, 20.3, 17.9, 21.4, 19.2, 18.6)

# 2. 查看数据
tree_dbh
length(tree_dbh)  # 查看测量了多少棵树

# 3. 计算平均胸径
mean_dbh <- mean(tree_dbh)
mean_dbh

# 4. 计算总树数
tree_count <- length(tree_dbh)
tree_count

# 5. 简单的数学运算
max_dbh <- max(tree_dbh)  # 最大胸径
min_dbh <- min(tree_dbh)  # 最小胸径
total_dbh <- sum(tree_dbh)  # 胸径总和
```

### R语言知识点详解

#### 1. 向量创建函数 `c()`
- **是什么**：`c()` 是combine的缩写，用于将多个值组合成一个向量
- **语法**：`c(值1, 值2, 值3, ...)`
- **重要特点**：
  - 向量中的所有元素必须是同一类型（数值、字符或逻辑）
  - 如果混合不同类型，R会自动转换为最通用的类型
  - 向量是R中最基本的数据结构
- **常见错误**：忘记加逗号分隔值，如`c(1 2 3)`是错误的
- **最佳实践**：给向量起有意义的名字，如`tree_dbh`而不是`x`

#### 2. 变量赋值操作符 `<-`
- **是什么**：将右边的值赋给左边的变量名
- **语法**：`变量名 <- 值`
- **为什么用 `<-` 而不是 `=`**：
  - `<-` 是R的传统赋值符号，更清晰地表示赋值方向
  - `=` 也可以用，但在某些情况下可能引起混淆
  - 建议统一使用 `<-` 保持代码风格一致
- **变量命名规则**：
  - 只能包含字母、数字、点(.)和下划线(_)
  - 不能以数字开头
  - 区分大小写
  - 建议使用有意义的名称

#### 3. 基本统计函数
##### `mean()` - 计算平均值
- **语法**：`mean(x, na.rm = FALSE)`
- **参数说明**：
  - `x`：数值向量
  - `na.rm`：是否移除缺失值，默认FALSE
- **返回值**：数值，向量的算术平均数
- **注意事项**：如果向量包含NA值，结果会是NA，除非设置`na.rm = TRUE`

##### `length()` - 计算向量长度
- **语法**：`length(x)`
- **作用**：返回向量中元素的个数
- **应用场景**：统计样本数量、检查数据完整性

##### `max()` 和 `min()` - 最大值和最小值
- **语法**：`max(x, na.rm = FALSE)`，`min(x, na.rm = FALSE)`
- **作用**：找出向量中的最大值和最小值
- **参数**：与mean()相同，可以设置na.rm参数

##### `sum()` - 求和
- **语法**：`sum(x, na.rm = FALSE)`
- **作用**：计算向量所有元素的总和
- **应用**：计算总量、累计值等

#### 4. 数据查看
- **直接输入变量名**：最简单的查看方式，直接显示变量内容
- **自动打印机制**：R会自动显示表达式的结果
- **向量显示格式**：会显示`[1]`表示第一个元素的位置

### 课后练习
**题目**：某湿地调查中测量了8棵柳树的树高（单位：米）：
`tree_height <- c(4.2, 5.1, 3.8, 4.7, 5.3, 4.9, 4.1, 4.6)`

请完成（仅使用本课学过的向量和基本统计函数）：
1. 创建树高向量并查看数据
2. 计算平均树高
3. 找出最高的树有多高
4. 统计总共测量了多少棵树
5. 计算所有树的总高度
6. 计算树高的标准差（提示：使用sd()函数）
