
## 第2课：物种名称管理

### 生态学背景
在野外鸟类观察中，需要记录观察到的鸟类物种名单，这是生物多样性调查的基础工作。我们要学会如何在R中管理物种名称数据。

### 演示数据
```r
# 某公园早晨观察到的鸟类物种
bird_species <- c("白头鹎", "麻雀", "喜鹊", "乌鸦", "红嘴蓝鹊", "大山雀")
```

### 课堂演示过程
```r
# 1. 创建鸟类物种名单
bird_species <- c("白头鹎", "麻雀", "喜鹊", "乌鸦", "红嘴蓝鹊", "大山雀")

# 2. 查看物种名单
bird_species
print(bird_species)  # 另一种显示方法

# 3. 统计观察到的物种数量
species_count <- length(bird_species)
species_count

# 4. 访问特定位置的物种
bird_species[1]  # 第一个物种
bird_species[3]  # 第三个物种

# 5. 添加新观察到的物种
bird_species <- c(bird_species, "燕子")
bird_species

# 6. 字符串操作
paste("今天观察到", length(bird_species), "种鸟类")
```

### R语言知识点详解

#### 1. 字符型数据（Character Data）
- **是什么**：用引号包围的文本数据，R中的基本数据类型之一
- **语法**：`"文本内容"` 或 `'文本内容'`
- **重要特点**：
  - 单引号和双引号都可以，但要成对使用
  - 如果文本中包含引号，需要转义或使用另一种引号包围
  - 字符型数据在R中以向量形式存储
- **与数值的区别**：
  - 字符型：`"123"` - 这是文本，不能进行数学运算
  - 数值型：`123` - 这是数字，可以进行数学运算
- **编码注意**：中文字符需要确保R的编码设置正确

#### 2. 向量索引（Vector Indexing）
- **是什么**：通过位置编号访问向量中特定元素的方法
- **语法**：`向量名[位置]`
- **索引规则**：
  - R的索引从1开始（不是0！）
  - 可以使用负数排除特定位置：`bird_species[-1]`（排除第一个）
  - 可以一次访问多个位置：`bird_species[c(1,3,5)]`
- **超出范围**：如果索引超出向量长度，返回NA
- **实际应用**：在生态学中用于提取特定样本、物种等

#### 3. 数据显示函数
##### `print()` 函数
- **语法**：`print(x)`
- **与直接输入变量名的区别**：
  - 直接输入：仅在交互模式下显示
  - `print()`：在脚本和函数中也会显示，更可控
- **应用场景**：在循环、函数中需要显示结果时

#### 4. 向量合并和扩展
- **添加元素**：`c(原向量, 新元素)`
- **重要概念**：R中的向量是不可变的，每次"添加"实际上是创建新向量
- **效率考虑**：频繁添加元素效率较低，大量数据建议预先分配空间
- **实际应用**：野外调查中动态添加新发现的物种

#### 5. 字符串连接函数 `paste()`
- **语法**：`paste(..., sep = " ", collapse = NULL)`
- **参数详解**：
  - `...`：要连接的多个元素
  - `sep`：分隔符，默认是空格
  - `collapse`：如果提供，将结果向量合并为单个字符串
- **相关函数**：
  - `paste0()`：等同于`paste(..., sep = "")`，不使用分隔符
  - `sprintf()`：格式化字符串，类似其他语言的printf
- **实际应用**：生成报告文本、标签、文件名等

### 课后练习
**题目**：某湿地调查中记录的水生植物：
`water_plants <- c("荷花", "芦苇", "菖蒲", "水葫芦", "睡莲")`

请完成（使用向量、字符串操作、索引等已学内容）：
1. 创建植物名称向量并显示所有植物名称
2. 计算记录了多少种植物（使用length()函数）
3. 显示第2种和第4种植物的名称（使用向量索引）
4. 添加"慈姑"到植物名单中（使用c()函数合并）
5. 用paste()函数创建一句完整的调查报告
6. 尝试查找"芦苇"在向量中的位置（提示：使用which()函数和==运算符）
